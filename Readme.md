# Drawing An Image of House Using Python Turtle

House of Postdocs presents you with a python tool that draws an image of house using python standard library "turtle". See [the design document](Design.md) for more info of software design details.

Authors: 
- Rikiya Yamashita ([rikiya@stanford.edu](mailto: rikiya@stanford.edu)) 
- Binglan Li ([binglan@stanford.edu](mailto: binglan@stanford.edu))

### AUTOGENERATED BY SWE for Science kickstart generator - www.sweforscience.com - www.twitter.com/sweforscience

## How to set up the python environment

There are two ways to set up the python environment.

1. Using pyenv/venv (Binglan)

- Install and configure Tkinter (mandatory) and Ghostscript (optional). See **Technical Notes** at the end for details. 

- Use pyenv to manage python version
```
# install pyenv using homebrew
brew update
brew install pyenv

# install a specific python version
pyenv install 3.8.7

# set global python version
pyenv global 3.8.7

# check current python version
pyenv versions

# Alternatively, one can choose a specific python version for a project folder
# go to the project folder
pyenv local 3.8.7
```

- Use venv to mange python environment. Venv is a python package that provides lightweight "virtual environments".
```
# go to your project folder
cd ~/biods253_house_postdoc

# venv is a standard python library for python >= 3.3

# activate venv under the project folder
/usr/bin/env python3 -m venv venv && . venv/bin/activate

# proceed with installing packages like you normally do
# all of the following packages are option. They are only needed for unit tests if you are interested.
pip install numpy
pip install Pillow
pip install ghostscript

# venv freeze - obtain a list of installed packages
. venv/bin/activate && pip freeze > requirements.txt
```


1. Using conda (Rikiya)
- Install [Miniconda](https://docs.conda.io/en/latest/miniconda.html#linux-installers) on your machine (download the distribution that comes with python3).  
- Create a conda environment:
```
conda create -n my_turtle python=3.8
```  
- Activate the environment:
```
conda activate my_turtle
```
- Install dependencies:
```
conda install numpy
conda install pillow
conda install -c conda-forge ghostscript  
```

## Demo
### Run with default configuration
```
python py/house_postdoc_cli.py
```

### You can change the numbers of windows, doors, trees, clouds, and draw speed by specifying the arguments
```
python py/house_postdoc_cli.py --num_windows 8 --num_doors 5 --num_trees 5 --num_clouds 10 --draw_speed 6
```
or
```
python py/house_postdoc_cli.py -w 8 -d 5 -t 5 -c 10 -s 6
```
defaults are: `--num_windows 4 --num_doors 1 --num_trees 3 --num_clouds 5 --draw_speed 0`

## Setup

NB: The prerequisites for this repository are python3, nodejs, and npm. Ensure you have installed these (either using brew if you're on MacOS, or apt-get if you are on *NIX).

In order to set up the environment, run `make setup`. This will set up a virtual environment and download all dependencies.


## Code structure:
```.
├── Dockerfile
├── Makefile
├── Readme.md
├── Design.md
└── py
    ├── house_postdoc_cli.py
    ├── house_postdoc_jupyter.ipydb
    ├── house_postdoc_lib.py
    ├── house_postdoc_unittest.py
    ├── house_postdoc_webserver.py
    ├── package-lock.json
    ├── package.json
    ├── requirements.txt
    ├── serverless.yml
    └── templates
        └── form.html 
```

The Makefile in contains a number of useful targets. Run `make help` to see how to use it. `make TARGET` is how you invoke a particular target.

*house_postdoc_cli.py* This is the command-line interface for this program. _TODO: REPLACE THIS DESCRIPTION_

*house_postdoc_webserver.py* This is the Flask-based web server for this program. _TODO: REPLACE THIS DESCRIPTION_

*house_postdoc_unittest.py* This has unittests for this program. These can be run with `make test`.  _TODO: REPLACE THIS DESCRIPTION_

*package.json/package-lock.json* These files are for the NPM dependencies used by serverless/AWS lambda deploy scripts.

*requirements.txt* This contains pip dependencies for this project. Use `make venv-freeze` to update.

*serverless.yml* Contains configuration for AWS lambda deployment of the webserver.

*templates* Contains HTML templates for the webserver.

